[gd_scene load_steps=18 format=4 uid="uid://clo6cylv8dslo"]

[ext_resource type="Texture2D" uid="uid://clqp2k1834hig" path="res://assets/tilesets/level1_floor.png" id="1_qvcpk"]
[ext_resource type="Texture2D" uid="uid://b0sae5mprcwrg" path="res://assets/tilesets/level1_sky.png" id="2_xi0ms"]
[ext_resource type="Script" path="res://scenes/area_2d.gd" id="3_lbnyv"]
[ext_resource type="PackedScene" uid="uid://cmfrpqlcr1vws" path="res://scenes/mob.tscn" id="4_mkim1"]
[ext_resource type="Texture2D" uid="uid://2fy856aimvp7" path="res://assets/character_sprites/portal_sprite_1.PNG" id="5_2et8h"]
[ext_resource type="Script" path="res://player_movement.gd" id="6_dhlg7"]
[ext_resource type="Texture2D" uid="uid://buy37hkbfursr" path="res://assets/character_sprites/player_sprite_1.png" id="7_ayfcc"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_suouw"]
texture = ExtResource("1_qvcpk")
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, 6.25, 8, 6.25, 8, 8, -8, 8)
1:0/0 = 0

[sub_resource type="TileSet" id="TileSet_1fugo"]
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_suouw")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_o608d"]
texture = ExtResource("2_xi0ms")
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_rqsky"]
sources/0 = SubResource("TileSetAtlasSource_o608d")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kr7il"]
size = Vector2(78.5, 75)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7p0mf"]
size = Vector2(30, 32)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_f417m"]
size = Vector2(348.279, 47.1943)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1nnb0"]
size = Vector2(348.004, 137.651)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_crxav"]
size = Vector2(347.628, 70.7914)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1aje3"]
size = Vector2(1263.16, 63.6074)

[node name="Level 1" type="Node2D"]

[node name="Tilemaps" type="Node" parent="."]

[node name="Floor" type="TileMapLayer" parent="Tilemaps"]
position = Vector2(330, 645)
scale = Vector2(2.5, 2.5)
tile_map_data = PackedByteArray("AAAAAP//AAAAAAAAAAABAP//AAAAAAAAAAACAP//AAAAAAAAAAADAP//AAAAAAAAAAAEAP//AAAAAAAAAAAFAP//AAAAAAAAAAAGAP//AAAAAAAAAAAHAP//AAAAAAAAAAAIAP//AAAAAAAAAAAJAP//AAAAAAAAAAAKAP//AAAAAAAAAAALAP//AAAAAAAAAAAAAP7/AAABAAAAAAABAP7/AAAAAAAAAAACAP7/AAAAAAAAAAADAP7/AAAAAAAAAAAEAP7/AAAAAAAAAAAFAP7/AAAAAAAAAAAGAP7/AAAAAAAAAAAHAP7/AAAAAAAAAAAIAP7/AAAAAAAAAAAJAP7/AAAAAAAAAAAKAP7/AAAAAAAAAAALAP7/AAAAAAAAAAALAP3/AAABAAAAAAAKAP3/AAAAAAAAAAAJAP3/AAAAAAAAAAAIAP3/AAAAAAAAAAAHAP3/AAAAAAAAAAAGAP3/AAAAAAAAAAAFAP3/AAAAAAAAAAAEAP3/AAAAAAAAAAADAP3/AAAAAAAAAAACAP3/AAAAAAAAAAABAP3/AAAAAAAAAAAAAP3/AAAAAAAAAAAAAPz/AAABAAAAAAABAPz/AAAAAAAAAAACAPz/AAAAAAAAAAADAPz/AAAAAAAAAAAEAPz/AAAAAAAAAAAFAPz/AAAAAAAAAAAGAPz/AAAAAAAAAAAHAPz/AAAAAAAAAAAIAPz/AAAAAAAAAAAJAPz/AAAAAAAAAAAKAPz/AAAAAAAAAAALAPz/AAAAAAAAAAAAAPv/AAAAAAAAAAABAPv/AAAAAAAAAAACAPv/AAAAAAAAAAADAPv/AAAAAAAAAAAEAPv/AAAAAAAAAAAFAPv/AAAAAAAAAAAGAPv/AAAAAAAAAAAHAPv/AAAAAAAAAAAIAPv/AAAAAAAAAAAJAPv/AAAAAAAAAAAKAPv/AAAAAAAAAAALAPv/AAABAAAAAAAAAPr/AAABAAAAAAABAPr/AAAAAAAAAAACAPr/AAAAAAAAAAADAPr/AAAAAAAAAAAEAPr/AAAAAAAAAAAFAPr/AAAAAAAAAAAGAPr/AAAAAAAAAAAHAPr/AAAAAAAAAAAIAPr/AAAAAAAAAAAJAPr/AAAAAAAAAAAKAPr/AAAAAAAAAAALAPr/AAAAAAAAAAAAAPn/AAAAAAAAAAABAPn/AAAAAAAAAAACAPn/AAAAAAAAAAADAPn/AAAAAAAAAAAEAPn/AAAAAAAAAAAFAPn/AAAAAAAAAAAGAPn/AAAAAAAAAAAHAPn/AAAAAAAAAAAIAPn/AAAAAAAAAAAJAPn/AAAAAAAAAAAKAPn/AAAAAAAAAAALAPn/AAABAAAAAAAAAPj/AAABAAAAAAABAPj/AAAAAAAAAAACAPj/AAAAAAAAAAADAPj/AAAAAAAAAAAEAPj/AAAAAAAAAAAFAPj/AAAAAAAAAAAGAPj/AAAAAAAAAAAHAPj/AAAAAAAAAAAIAPj/AAAAAAAAAAAJAPj/AAAAAAAAAAAKAPj/AAAAAAAAAAALAPj/AAAAAAAAAAA=")
tile_set = SubResource("TileSet_1fugo")
collision_enabled = false

[node name="Sky" type="TileMapLayer" parent="Tilemaps"]
position = Vector2(330, 645)
scale = Vector2(2.5, 2.5)
tile_map_data = PackedByteArray("AAAAAPf/AAAAAAAAAAABAPf/AAAAAAAAAAACAPf/AAAAAAAAAAADAPf/AAAAAAAAAAAEAPf/AAAAAAAAAAAFAPf/AAAAAAAAAAAGAPf/AAAAAAAAAAAHAPf/AAAAAAAAAAAIAPf/AAAAAAAAAAAJAPf/AAAAAAAAAAAKAPf/AAAAAAAAAAALAPf/AAAAAAAAAAALAPb/AAAAAAAAAAAKAPb/AAAAAAAAAAAJAPb/AAAAAAAAAAAIAPb/AAAAAAAAAAAHAPb/AAAAAAAAAAAGAPb/AAAAAAAAAAAFAPb/AAAAAAAAAAAEAPb/AAAAAAAAAAADAPb/AAAAAAAAAAACAPb/AAAAAAAAAAABAPb/AAAAAAAAAAAAAPb/AAAAAAAAAAAAAPX/AAAAAAAAAAABAPX/AAAAAAAAAAACAPX/AAAAAAAAAAADAPX/AAAAAAAAAAAEAPX/AAAAAAAAAAAFAPX/AAAAAAAAAAAGAPX/AAAAAAAAAAAHAPX/AAAAAAAAAAAIAPX/AAAAAAAAAAAJAPX/AAAAAAAAAAAKAPX/AAAAAAAAAAALAPX/AAAAAAAAAAALAPT/AAAAAAAAAAAKAPT/AAAAAAAAAAAJAPT/AAAAAAAAAAAIAPT/AAAAAAAAAAAHAPT/AAAAAAAAAAAGAPT/AAAAAAAAAAAFAPT/AAAAAAAAAAAEAPT/AAAAAAAAAAADAPT/AAAAAAAAAAACAPT/AAAAAAAAAAABAPT/AAAAAAAAAAAAAPT/AAAAAAAAAAAAAPP/AAAAAAAAAAABAPP/AAAAAAAAAAACAPP/AAAAAAAAAAADAPP/AAAAAAAAAAAEAPP/AAAAAAAAAAAFAPP/AAAAAAAAAAAGAPP/AAAAAAAAAAAHAPP/AAAAAAAAAAAIAPP/AAAAAAAAAAAJAPP/AAAAAAAAAAAKAPP/AAAAAAAAAAALAPP/AAAAAAAAAAAAAPL/AAAAAAAAAAABAPL/AAAAAAAAAAACAPL/AAAAAAAAAAADAPL/AAAAAAAAAAAEAPL/AAAAAAAAAAAFAPL/AAAAAAAAAAAGAPL/AAAAAAAAAAAHAPL/AAAAAAAAAAAIAPL/AAAAAAAAAAAJAPL/AAAAAAAAAAAKAPL/AAAAAAAAAAALAPL/AAAAAAAAAAAAAPH/AAAAAAAAAAABAPH/AAAAAAAAAAACAPH/AAAAAAAAAAADAPH/AAAAAAAAAAAEAPH/AAAAAAAAAAAFAPH/AAAAAAAAAAAGAPH/AAAAAAAAAAAHAPH/AAAAAAAAAAAIAPH/AAAAAAAAAAAJAPH/AAAAAAAAAAAKAPH/AAAAAAAAAAALAPH/AAAAAAAAAAAAAPD/AAAAAAAAAAABAPD/AAAAAAAAAAACAPD/AAAAAAAAAAADAPD/AAAAAAAAAAAEAPD/AAAAAAAAAAAFAPD/AAAAAAAAAAAGAPD/AAAAAAAAAAAHAPD/AAAAAAAAAAAIAPD/AAAAAAAAAAAJAPD/AAAAAAAAAAAKAPD/AAAAAAAAAAALAPD/AAAAAAAAAAA=")
tile_set = SubResource("TileSet_rqsky")

[node name="Portal2" type="Area2D" parent="."]
top_level = true
script = ExtResource("3_lbnyv")
mob_scene = ExtResource("4_mkim1")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Portal2"]
position = Vector2(373.75, 43.5)
shape = SubResource("RectangleShape2D_kr7il")

[node name="Sprite2D" type="Sprite2D" parent="Portal2"]
position = Vector2(373, 45)
scale = Vector2(0.605469, 0.597656)
texture = ExtResource("5_2et8h")

[node name="MobTimer" type="Timer" parent="Portal2"]
autostart = true

[node name="PortalTimer" type="Timer" parent="Portal2"]
wait_time = 20.0
autostart = true

[node name="Mob" parent="." groups=["enemy"] instance=ExtResource("4_mkim1")]
position = Vector2(1, -170)
collision_mask = 3

[node name="Player" type="CharacterBody2D" parent="."]
top_level = true
position = Vector2(424, 464)
scale = Vector2(1.32255, 1.04823)
collision_mask = 3
script = ExtResource("6_dhlg7")
metadata/_edit_group_ = true

[node name="Sprite2D" type="Sprite2D" parent="Player"]
texture = ExtResource("7_ayfcc")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Player"]
position = Vector2(0.999992, -0.338383)
scale = Vector2(0.240234, 0.245613)
polygon = PackedVector2Array(59.1, -64, -59, -64, -63.8, -59, -64, 61, -60.3, 64, 59.6, 64, 60.1109, 64.5876, 64, -61.1)

[node name="player_area" type="Area2D" parent="Player"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player/player_area"]
shape = SubResource("RectangleShape2D_7p0mf")

[node name="Platform" type="ColorRect" parent="."]
offset_left = 365.0
offset_top = 361.0
offset_right = 710.0
offset_bottom = 411.0
scale = Vector2(1.27484, 0.0635668)
color = Color(0.270675, 0.306784, 0.651463, 1)
metadata/_edit_group_ = true

[node name="StaticBody2D" type="StaticBody2D" parent="Platform"]
collision_layer = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platform/StaticBody2D"]
position = Vector2(174.139, 23.5972)
scale = Vector2(1, 1)
shape = SubResource("RectangleShape2D_f417m")

[node name="Under_platform" type="Area2D" parent="Platform" groups=["under_platform"]]
position = Vector2(177, 118)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platform/Under_platform" groups=["under_platform"]]
position = Vector2(-2, -7.87988)
scale = Vector2(1, 0.999999)
shape = SubResource("RectangleShape2D_1nnb0")
metadata/_edit_group_ = true

[node name="Over_platform" type="Area2D" parent="Platform" groups=["over_platform"]]
position = Vector2(175, -54)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platform/Over_platform" groups=["over_platform"]]
position = Vector2(-1, 85.4629)
scale = Vector2(1, 1)
shape = SubResource("RectangleShape2D_crxav")
debug_color = Color(0.868578, 0.284712, 0.536521, 0.42)

[node name="Platform2" type="ColorRect" parent="."]
top_level = true
offset_left = 330.0
offset_top = 401.0
offset_right = 675.0
offset_bottom = 451.0
scale = Vector2(1.27484, 0.0635668)
color = Color(0.270675, 0.306784, 0.651463, 1)
metadata/_edit_group_ = true

[node name="StaticBody2D" type="StaticBody2D" parent="Platform2"]
collision_layer = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platform2/StaticBody2D"]
position = Vector2(174.139, 23.5972)
scale = Vector2(1, 1)
shape = SubResource("RectangleShape2D_f417m")

[node name="Under_platform" type="Area2D" parent="Platform2" groups=["under_platform"]]
position = Vector2(177, 118)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platform2/Under_platform" groups=["under_platform"]]
position = Vector2(-2, -15.7456)
scale = Vector2(1, 1)
shape = SubResource("RectangleShape2D_1nnb0")

[node name="Over_platform" type="Area2D" parent="Platform2" groups=["over_platform"]]
position = Vector2(175, -54)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platform2/Over_platform" groups=["over_platform"]]
position = Vector2(-1, 50.0674)
scale = Vector2(1, 1)
shape = SubResource("RectangleShape2D_crxav")
debug_color = Color(0.868578, 0.284712, 0.536521, 0.42)

[node name="Platform3" type="ColorRect" parent="."]
top_level = true
offset_left = 368.0
offset_top = 441.0
offset_right = 713.0
offset_bottom = 491.0
scale = Vector2(1.27484, 0.0635668)
color = Color(0.270675, 0.306784, 0.651463, 1)
metadata/_edit_group_ = true

[node name="StaticBody2D" type="StaticBody2D" parent="Platform3"]
collision_layer = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platform3/StaticBody2D"]
position = Vector2(174.139, 23.5972)
scale = Vector2(1, 1)
shape = SubResource("RectangleShape2D_f417m")

[node name="Under_platform" type="Area2D" parent="Platform3" groups=["under_platform"]]
position = Vector2(177, 118)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platform3/Under_platform" groups=["under_platform"]]
position = Vector2(-2, -1.98047)
scale = Vector2(1, 0.999999)
shape = SubResource("RectangleShape2D_1nnb0")

[node name="Over_platform" type="Area2D" parent="Platform3" groups=["over_platform"]]
position = Vector2(175, -54)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platform3/Over_platform" groups=["over_platform"]]
position = Vector2(-1.00006, 77.5981)
scale = Vector2(1, 1)
shape = SubResource("RectangleShape2D_crxav")
debug_color = Color(0.868578, 0.284712, 0.536521, 0.42)

[node name="Platform4" type="ColorRect" parent="."]
top_level = true
offset_left = 329.0
offset_top = 482.0
offset_right = 674.0
offset_bottom = 532.0
scale = Vector2(1.27484, 0.0635668)
color = Color(0.270675, 0.306784, 0.651463, 1)
metadata/_edit_group_ = true

[node name="StaticBody2D" type="StaticBody2D" parent="Platform4"]
collision_layer = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platform4/StaticBody2D"]
position = Vector2(174.139, 39.3286)
scale = Vector2(1, 0.999999)
shape = SubResource("RectangleShape2D_f417m")

[node name="Under_platform" type="Area2D" parent="Platform4" groups=["under_platform"]]
position = Vector2(177, 118)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platform4/Under_platform" groups=["under_platform"]]
position = Vector2(-2, 7.85107)
scale = Vector2(1, 0.999999)
shape = SubResource("RectangleShape2D_1nnb0")

[node name="Over_platform" type="Area2D" parent="Platform4" groups=["over_platform"]]
position = Vector2(175, -54)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platform4/Over_platform" groups=["over_platform"]]
position = Vector2(-1, 69.7314)
scale = Vector2(1, 1)
shape = SubResource("RectangleShape2D_crxav")
debug_color = Color(0.868578, 0.284712, 0.536521, 0.42)

[node name="Platform5" type="ColorRect" parent="."]
top_level = true
offset_left = 370.0
offset_top = 521.0
offset_right = 715.0
offset_bottom = 571.0
scale = Vector2(1.27484, 0.0635668)
color = Color(0.270675, 0.306784, 0.651463, 1)
metadata/_edit_group_ = true

[node name="StaticBody2D" type="StaticBody2D" parent="Platform5"]
collision_layer = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platform5/StaticBody2D"]
position = Vector2(174.139, 23.5972)
scale = Vector2(1, 1)
shape = SubResource("RectangleShape2D_f417m")

[node name="Under_platform" type="Area2D" parent="Platform5" groups=["under_platform"]]
position = Vector2(177, 118)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platform5/Under_platform" groups=["under_platform"]]
position = Vector2(-2, 7.85107)
scale = Vector2(1, 0.999999)
shape = SubResource("RectangleShape2D_1nnb0")

[node name="Over_platform" type="Area2D" parent="Platform5" groups=["over_platform"]]
position = Vector2(175, -54)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platform5/Over_platform" groups=["over_platform"]]
position = Vector2(-1, 85.4634)
scale = Vector2(1, 1)
shape = SubResource("RectangleShape2D_crxav")
debug_color = Color(0.868578, 0.284712, 0.536521, 0.42)

[node name="Platform6" type="ColorRect" parent="."]
offset_left = 330.0
offset_top = 561.0
offset_right = 675.0
offset_bottom = 611.0
scale = Vector2(1.27484, 0.0635668)
color = Color(0.270675, 0.306784, 0.651463, 1)
metadata/_edit_group_ = true

[node name="StaticBody2D" type="StaticBody2D" parent="Platform6"]
collision_layer = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platform6/StaticBody2D"]
position = Vector2(174.139, 23.5972)
scale = Vector2(1, 1)
shape = SubResource("RectangleShape2D_f417m")

[node name="Under_platform" type="Area2D" parent="Platform6" groups=["under_platform"]]
position = Vector2(177, 118)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platform6/Under_platform" groups=["under_platform"]]
position = Vector2(-2, 7.85107)
scale = Vector2(1, 0.999999)
shape = SubResource("RectangleShape2D_1nnb0")

[node name="Over_platform" type="Area2D" parent="Platform6" groups=["over_platform"]]
position = Vector2(175, -54)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platform6/Over_platform" groups=["over_platform"]]
position = Vector2(-1, 69.7314)
scale = Vector2(1, 1)
shape = SubResource("RectangleShape2D_crxav")
debug_color = Color(0.868578, 0.284712, 0.536521, 0.42)

[node name="Platform7" type="ColorRect" parent="."]
offset_left = 370.0
offset_top = 601.0
offset_right = 715.0
offset_bottom = 651.0
scale = Vector2(1.27484, 0.0635668)
color = Color(0.270675, 0.306784, 0.651463, 1)
metadata/_edit_group_ = true

[node name="StaticBody2D" type="StaticBody2D" parent="Platform7"]
collision_layer = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platform7/StaticBody2D"]
position = Vector2(174.139, 23.5972)
scale = Vector2(1, 1)
shape = SubResource("RectangleShape2D_f417m")

[node name="Under_platform" type="Area2D" parent="Platform7" groups=["under_platform"]]
position = Vector2(177, 118)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platform7/Under_platform" groups=["under_platform"]]
position = Vector2(-2, 7.85107)
scale = Vector2(1, 0.999999)
shape = SubResource("RectangleShape2D_1nnb0")

[node name="Over_platform" type="Area2D" parent="Platform7" groups=["over_platform"]]
position = Vector2(175, -54)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platform7/Over_platform" groups=["over_platform"]]
position = Vector2(-1, 69.7314)
scale = Vector2(1, 1)
shape = SubResource("RectangleShape2D_crxav")
debug_color = Color(0.868578, 0.284712, 0.536521, 0.42)

[node name="Floor" type="StaticBody2D" parent="."]
top_level = true
position = Vector2(568, 643)
scale = Vector2(0.38, 0.051)
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Floor"]
position = Vector2(5.26318, -12.1963)
scale = Vector2(1, 1)
shape = SubResource("RectangleShape2D_1aje3")

[node name="ColorRect" type="ColorRect" parent="Floor"]
offset_left = -626.0
offset_top = -44.0
offset_right = 632.0
offset_bottom = 39.0
color = Color(0.70397, 0.401718, 0.144034, 1)

[connection signal="area_entered" from="Player/player_area" to="Player" method="_on_player_area_area_entered"]
[connection signal="area_exited" from="Player/player_area" to="Player" method="_on_player_area_area_exited"]
